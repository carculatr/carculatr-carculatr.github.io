<script setup>
import { ref, onUnmounted } from 'vue'
import { useCarcStore } from '@/stores/dataForCalculation'
const carcStore = useCarcStore()
import m3metric from '@/components/js/m3metric'
m3metric('openSetting')

// onUnmounted(() => {
//   console.log('üî∞onUnmounted setting')
// })

function chengeTheme(theme) {
  carcStore.setTheme(theme)
}
const hideSettings = ref(false)
</script>
<template>
  <!-- <div @dblclick="hideSettings = !hideSettings"> -->
  <div @dblclick="carcStore.sessionCarc.popup[0] = 'theEasterDuck'">
    <!-- <button @click="YaMetric('PC vivaldi')">PC vivaldi</button><br />
    <button @click="YaMetric('PC Yandex')">PC Yandex</button><br />
    <button @click="YaMetric('PC Chrome')">PC Chrome</button><br />
    <button @click="YaMetric('mobile Vivaldi')">mobile Vivaldi</button><br />
    <button @click="YaMetric('mobile yandex')">mobile yandex</button><br />
    <button @click="YaMetric('mobile chrome')">mobile chrome</button><br /> -->

    <button
      :class="['grid-switcher', { act: carcStore.carc.set.grid }]"
      @click="carcStore.setBolean('grid')"
    >
      <span> —Å–ø–∏—Å–æ–∫ </span><span> —Ç–∞–±–ª–∏—Ü–∞ </span>
    </button>
    <br /><br />

    <button class="light" @click="chengeTheme('M3light')">C–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞</button><br />
    <button class="dark" @click="chengeTheme('M3dark')">–¢—ë–º–Ω–∞—è —Ç–µ–º–∞</button><br />
    <button class="black" @click="chengeTheme('M3black')">–ß—ë—Ä–Ω–∞—è —Ç–µ–º–∞</button><br /><br />

    <button class="color-grid" @click="chengeTheme('M3colorGrid')">–¶–≤–µ—Ç–Ω–∞—è —Å–µ—Ç–∫–∞</button><br />
    <button class="color" @click="chengeTheme('colorTT')">
      <span class="color1">–¶–≤</span>–µ—Ç–Ω—ã–µ —Ü–∏—Ñ<span class="color2">—Ä—ã</span>
    </button>
    <br />

    <div class="checkbox-container">
      <div class="cbd">
        <input
          @change="m3metric('onlyWithRoll', carcStore.carc.set.onlyWithRoll)"
          class="cbd-input"
          type="checkbox"
          id="cbd"
          v-model="carcStore.carc.set.onlyWithRoll"
        />
        <label class="cbd-label" for="cbd">
          <label class="cbd-label-aux" for="cbd"> </label>
        </label>
        <label for="cbd">
          <!-- <label class="cbd-label-aux" for="cbd">ü•ïfkdjkdkdfjfjfjdkl</label> -->
        </label>
      </div>
      <div>
        –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ <br />
        –º–µ—Ç—Ä–∞–∂–∏ c —Ä–æ–ª–∏–∫–∞–º–∏
      </div>
    </div>
    <div class="checkbox-container">
      <div class="cbd">
        <input
          @change="m3metric('grouped', carcStore.carc.set.grouped)"
          class="cbd-input"
          type="checkbox"
          id="cbd2"
          v-model="carcStore.carc.set.grouped"
        />
        <label class="cbd-label" for="cbd2">
          <label class="cbd-label-aux" for="cbd2"> </label>
        </label>
        <label for="cbd2">
          <!-- <label class="cbd-label-aux" for="cbd">ü•ïfkdjkdkdfjfjfjdkl</label> -->
        </label>
      </div>
      <div>
        –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å <br />
        –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –º–µ—Ç—Ä–∞–∂–∏
      </div>
    </div>

    <button>
      –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —à—Ç<br />
      <button
        class="smallBtn"
        :class="[carcStore.carc.set.additive === '0' ? 'select' : '']"
        @click="carcStore.setAdditive('0')"
      >
        0
      </button>
      <button
        class="smallBtn"
        :class="[carcStore.carc.set.additive === '1' ? 'select' : '']"
        @click="carcStore.setAdditive('1')"
      >
        1
      </button>
      <button
        class="smallBtn"
        :class="[carcStore.carc.set.additive === '2' ? 'select' : '']"
        @click="carcStore.setAdditive('2')"
      >
        2
      </button>
      <button
        class="smallBtn"
        :class="[carcStore.carc.set.additive === '3' ? 'select' : '']"
        @click="carcStore.setAdditive('3')"
      >
        3
      </button>
      <div class="description">
        –†–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —à—Ç—É–∫ –ø—Ä–∏–≥–ª—É—à–µ–Ω–Ω—ã–º —Ü–≤–µ—Ç–æ–º –∫ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –∫–æ–ª-–≤—É
      </div>
    </button>

    <div v-if="hideSettings"></div>
  </div>
</template>

<style scoped lang="scss">
@import '@/assets/css/_inputCheckbox';
.colorTT .color1 {
  color: var(--m3-color-tt1);
}
.colorTT .color2 {
  color: var(--m3-color-tt2);
}
.colorTT .color4 {
  border-top-color: var(--m3-color-tt1);
  border-left-color: var(--m3-color-tt1);
  border-bottom-color: var(--m3-color-tt2);
  border-right-color: var(--m3-color-tt2);
}
// —Ä–∞–º–∫–∞ –∫–Ω–æ–ø–∫–∏ —Ü–≤–µ—Ç–Ω–æ–π —Å–µ—Ç–∫–∏
.color-grid {
  border-color: var(--m3-color-grid);
}
// –∫—Ä—É–∂–∫–∏ –≤–æ–∑–ª–µ —Ç–µ–º
.light:before,
.black:before,
.dark:before {
  content: '';
  background: red;
  width: 15px;
  display: block;
  position: absolute;
  height: 15px;
  left: 12px;
  border-radius: 50%;
  // outline: solid 1px rgba(118, 118, 118, 0.437);
}
.light:before {
  background: white;
  color: black;
  .M3light & {
    outline: 3px var(--m3-color-accent) solid;
    border: none;
  }
}
.black:before {
  background: black;
  color: white;
  .M3black & {
    outline: 3px var(--m3-color-accent) solid;
    border: none;
  }
}
.dark:before {
  background: #585858;
  color: white;
  .M3dark & {
    outline: 3px var(--m3-color-accent) solid;
  }
}

button {
  width: 100%;
  // height:26px;
  background: transparent;
  border: 1px solid var(--m3-color-muted-3);
  color: var(--m3-color);
  padding: 7px;
  border-radius: 6px;
  margin: 3px;
}
// –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å grid/list
.grid-switcher {
  --m3-color-switcher: var(--m3-color-muted-3);
  padding: 0;
  position: relative;
  box-shadow: inset 0 0 0 1px var(--m3-color-muted-3);
  border: none;
  & > span {
    margin: 2px 0px;
    border-radius: 5px;
    padding: 7px 7px;
    display: inline-flex;
    width: 50%;
    justify-content: center;
  }
  &::before {
    content: '';
    transition: 0.3s cubic-bezier(0, 1.17, 0.83, 1.06);
    width: 50%;
    height: 100%;
    border-radius: 6px;
    border: 3px solid var(--m3-color-muted-2);
    display: block;
    position: absolute;
  }
  &.act::before {
    transform: translateX(100%);
  }
}
.smallBtn {
  display: inline-flex;
  align-items: center;
  justify-content: center;

  // background: red;
  width: 27.5px;
  height: 27.5px !important;
  font-size: 1.4em;
  font-family: 'Courier New', Courier, monospace;
  height: 40px;
  border-radius: 50%;
  &.select {
    // background: red;
    border: tomato solid;
  }
}
.description {
  color: var(--m3-color-muted-2);
  font-size: 12px;
  max-width: 180px;
}
</style>
